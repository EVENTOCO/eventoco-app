import{a as K}from"./chunk-NUOE3SLZ.js";import{a as w}from"./chunk-TBBER2DL.js";import{b as V,c as k,j as M,k as $,l as g,m as q,n as j,q as U,r as z,s as B,t as L,v as G,w as A,x as H,y as R,z as J}from"./chunk-KJAQ6TVI.js";import{Aa as u,Gb as S,Ib as T,Oa as v,Qa as d,S as D,Sa as l,T as _,Ta as i,Ua as m,Wa as f,X as P,Za as a,_a as O,ba as b,ca as y,qa as N,za as p}from"./chunk-HJJGDG5F.js";var h=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl=w.baseUrl}getAllEvents(){return this.http.get(`${this.baseUrl}/users`)}getEventById(t){return this.http.get(`${this.baseUrl}/events/${t}`)}getEventByTitle(t){return this.http.get(`${this.baseUrl}/events/title/${t}`)}getEventByDate(t){return this.http.get(`${this.baseUrl}/events/date/${t}`)}createEvent(t){return this.http.post(`${this.baseUrl}/events`,t)}updateEvent(t,o){return this.http.put(`${this.baseUrl}/events/${t}`,o)}deleteEvent(t){return this.http.delete(`${this.baseUrl}/events/${t}`)}};e.\u0275fac=function(o){return new(o||e)(P(V))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Q=(()=>{let e=class e{constructor(t){this.eventService=t,this.eventDeleted=new N}confirmDelete(){confirm(`\xBFSeguro de que quieres borrar este evento ${this.event.title}?`)&&this.eventService.deleteEvent(this.event.id).subscribe(()=>{this.eventDeleted.emit(this.event.id),window.location.reload()})}};e.\u0275fac=function(o){return new(o||e)(u(h))},e.\u0275cmp=b({type:e,selectors:[["app-delete-event"]],inputs:{event:"event"},outputs:{eventDeleted:"eventDeleted"},decls:2,vars:0,consts:[[1,"btn","btn-danger",3,"click"]],template:function(o,r){o&1&&(l(0,"button",0),f("click",function(){return r.confirmDelete()}),a(1,"Eliminar Evento"),i())},styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#993d00;color:#fff;padding:10px 20px;font-size:16px;text-decoration:none;border:none;border-radius:20px;margin-left:10px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#fff;color:#993d00;padding:8px 18px;border:2px solid #993d00}"]});let n=e;return n})();function ee(n,e){n&1&&(l(0,"div",21),a(1," Campo obligatorio. "),i())}function te(n,e){n&1&&(l(0,"div",21),a(1," El titulo de evento debe no puede ser mayor a 25 car\xE1cteres. "),i())}function ne(n,e){n&1&&(l(0,"div",21),a(1," Campo obligatorio. "),i())}function ie(n,e){n&1&&(l(0,"div",21),a(1," Campo obligatorio. "),i())}function oe(n,e){n&1&&(l(0,"div",21),a(1," Campo obligatorio. "),i())}var W=(()=>{let e=class e{constructor(t,o){this.fb=t,this.eventService=o,this.isFormVisible=!1,this.eventForm=this.fb.group({title:["",[g.required,g.minLength(4),g.maxLength(25)]],date:["",g.required],place:["",g.required],description:["",g.required],descriptionService:[""],tag:[""],isImportant:[""],aproxNumParticipants:[""]})}toggleFormVisibility(){this.isFormVisible=!this.isFormVisible}onSubmit(){if(console.log(this.eventForm.value),this.eventForm.valid){let t=this.eventForm.value;this.eventService.createEvent(t).subscribe(()=>{console.log("Evento Creado"),this.isFormVisible=!1},o=>{console.error("Error al crear evento",o)})}}};e.\u0275fac=function(o){return new(o||e)(u(H),u(h))},e.\u0275cmp=b({type:e,selectors:[["app-create-event"]],decls:43,vars:6,consts:[[1,"create-event"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","title","title","required","","minlength","4","maxlength","25",1,"form-control"],["class","error",4,"ngIf"],["for","date"],["type","datetime-local","id","date","formControlName","date",1,"form-control"],["for","place"],["type","text","id","place","formControlName","place",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control"],["for","descriptionService"],["type","text","id","descriptionService","formControlName","descriptionService",1,"form-control"],["for","tag"],["type","text","id","tag","formControlName","tag",1,"form-control"],["for","isImportant"],["type","boolean","id","isImportant","formControlName","isImportant",1,"form-control"],["for","aproxNumParticipants"],["type","text","id","aproxNumParticipants","formControlName","aproxNumParticipants",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"error"]],template:function(o,r){if(o&1&&(l(0,"div",0)(1,"h2"),a(2,"Nuevo Evento"),i(),l(3,"form",1),f("ngSubmit",function(){return r.onSubmit()}),l(4,"div",2)(5,"label",3),a(6," Titulo del Evento"),i(),m(7,"input",4),v(8,ee,2,0,"div",5)(9,te,2,0,"div",5),i(),l(10,"div",2)(11,"label",6),a(12," Fecha"),i(),m(13,"input",7),v(14,ne,2,0,"div",5),i(),l(15,"div",2)(16,"label",8),a(17," Lugar"),i(),m(18,"input",9),v(19,ie,2,0,"div",5),i(),l(20,"div",2)(21,"label",10),a(22," Descripcion"),i(),m(23,"input",11),v(24,oe,2,0,"div",5),i(),l(25,"div",2)(26,"label",12),a(27," Descripcion del servicio"),i(),m(28,"input",13),i(),l(29,"div",2)(30,"label",14),a(31," Tag"),i(),m(32,"input",15),i(),l(33,"div",2)(34,"label",16),a(35," Importatancia"),i(),m(36,"input",17),i(),l(37,"div",2)(38,"label",18),a(39," N\xFAmero de participantes"),i(),m(40,"input",19),i(),l(41,"button",20),a(42,"Crear Evento"),i()()()),o&2){let s,c,C,x;p(3),d("formGroup",r.eventForm),p(5),d("ngIf",((s=r.eventForm.get("title"))==null||s.errors==null?null:s.errors.required)&&((s=r.eventForm.get("title"))==null?null:s.touched)),p(),d("ngIf",(r.eventForm.controls.title==null||r.eventForm.controls.title.errors==null?null:r.eventForm.controls.title.errors.minlength)||(r.eventForm.controls.title==null||r.eventForm.controls.title.errors==null?null:r.eventForm.controls.title.errors.maxlength)),p(5),d("ngIf",((c=r.eventForm.get("date"))==null||c.errors==null?null:c.errors.required)&&((c=r.eventForm.get("date"))==null?null:c.touched)),p(5),d("ngIf",((C=r.eventForm.get("place"))==null||C.errors==null?null:C.errors.required)&&((C=r.eventForm.get("place"))==null?null:C.touched)),p(5),d("ngIf",((x=r.eventForm.get("description"))==null||x.errors==null?null:x.errors.required)&&((x=r.eventForm.get("description"))==null?null:x.touched))}},dependencies:[S,U,$,q,j,L,G,A,z,B],styles:[".create-event[_ngcontent-%COMP%]{border:1px solid #ccc;padding:16px;border-radius:8px;max-width:400px;margin:auto}.create-event[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:10px}"]});let n=e;return n})();function le(n,e){n&1&&m(0,"app-create-event")}var F=(()=>{let e=class e{constructor(t){this.eventService=t,this.isCreateEventVisible=!1,this.isSeeTutorialVisible=!1}ngOnInit(){let t=localStorage.getItem("eventId");t&&this.eventService.getEventById(+t).subscribe(o=>{this.event=o})}toggleCreateEventForm(){this.isCreateEventVisible=!this.isCreateEventVisible}toggleSeeTutorial(){this.isSeeTutorialVisible=!this.isSeeTutorialVisible}onEventDeleted(t){this.event=null,this.eventService.deleteEvent(t).subscribe(()=>{console.log(`Event with ID ${t} has been deleted.`),localStorage.removeItem("eventId")})}};e.\u0275fac=function(o){return new(o||e)(u(h))},e.\u0275cmp=b({type:e,selectors:[["app-event"]],decls:6,vars:2,consts:[[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[3,"eventDeleted"]],template:function(o,r){o&1&&(l(0,"div")(1,"button",0),f("click",function(){return r.toggleCreateEventForm()}),a(2),i(),v(3,le,1,0,"app-create-event",1),i(),l(4,"div")(5,"app-delete-event",2),f("eventDeleted",function(c){return r.onEventDeleted(c)}),i()()),o&2&&(p(2),O(" ",r.isCreateEventVisible?"Cancelar creaci\xF3n de evento":"Crear Evento"," "),p(),d("ngIf",r.isCreateEventVisible))},dependencies:[S,Q,W],styles:[".button-container[_ngcontent-%COMP%]{margin-top:20px}.button-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:10px}.event-details-container[_ngcontent-%COMP%], .event-action-container[_ngcontent-%COMP%]{margin-top:20px}.btn-primary[_ngcontent-%COMP%]{color:#d35400;background-color:transparent;padding:8px 18px;font-size:16px;text-decoration:none;border:2px solid #d56520;border-radius:20px;margin-left:10px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#ebc7cb;color:#d35400}.btn-danger[_ngcontent-%COMP%]{background-color:#d35400;color:#fff;padding:10px 20px;font-size:16px;text-decoration:none;border:none;border-radius:20px;margin-left:10px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#fff;color:#d35400;padding:8px 18px;border:2px solid #d56520}.btn-edit[_ngcontent-%COMP%]{background-color:#df7a37;color:#fff;padding:10px 20px;font-size:16px;text-decoration:none;border:none;border-radius:20px;margin-left:10px;cursor:pointer}.btn-edit[_ngcontent-%COMP%]:hover{background-color:#fff;color:#df7a37;padding:8px 18px;border:2px solid #df7a37}"]});let n=e;return n})();var ae=[{path:"",component:F},{path:"delete",component:F},{path:"create",component:F}],X=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=y({type:e}),e.\u0275inj=_({imports:[M.forChild(ae),M]});let n=e;return n})();var Oe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=y({type:e}),e.\u0275inj=_({imports:[T,X,R,K,J,k]});let n=e;return n})();export{Oe as a};
