import{a as $}from"./chunk-TBBER2DL.js";import{a as V,b as q,h as T,k as y,l as d,m as S,n as U,q as E,r as w,s as M,t as k,v as R,w as z,x as I}from"./chunk-KJAQ6TVI.js";import{Aa as b,Gb as F,Oa as g,Qa as m,S as P,Sa as n,Ta as o,Ua as f,Wa as C,X as N,Za as s,ba as x,za as a}from"./chunk-HJJGDG5F.js";var O=(()=>{let r=class r{constructor(i){this.http=i,this.baseUrl=$.baseUrl}getAllUsers(){return this.http.get(`${this.baseUrl}/users`)}getUserById(i){return this.http.get(`${this.baseUrl}/users/${i}`)}getUserByUsername(i){return this.http.get(`${this.baseUrl}/users/username/${i}`)}getUserByEmail(i){return this.http.get(`${this.baseUrl}/users/email/${i}`)}createUser(i){return this.http.post(`${this.baseUrl}/users`,i)}updateUser(i,l){return this.http.put(`${this.baseUrl}/users/${i}`,l)}deleteUser(i){return this.http.delete(`${this.baseUrl}/users/${i}`)}loginUser(i,l){let e=new V().set("email",i).set("password",l);return this.http.get(`${this.baseUrl}/users/login`,{params:e})}};r.\u0275fac=function(l){return new(l||r)(N(q))},r.\u0275prov=P({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();function B(t,r){t&1&&(n(0,"div",9),s(1," Campo obligatorio. "),o())}function A(t,r){t&1&&(n(0,"div",9),s(1," Formato invalido. "),o())}function H(t,r){t&1&&(n(0,"div",9),s(1," Campo obligatorio. "),o())}var ne=(()=>{let r=class r{constructor(i,l,e){this.fb=i,this.userService=l,this.router=e,this.isFormVisible=!1,this.loginForm=this.fb.group({email:["",[d.required,d.email]],password:["",d.required]})}toggleFormVisibility(){this.isFormVisible=!this.isFormVisible}onSubmit(){if(this.loginForm.valid){let{email:i,password:l}=this.loginForm.value;this.userService.loginUser(i,l).subscribe({next:e=>{console.log("Sesi\xF3n iniciada correctamente.",e),localStorage.setItem("userId",e.id.toString()),this.router.navigate([""])},error:e=>{console.error("Los datos son incorrectos o el usuario no existe",e)}})}}};r.\u0275fac=function(l){return new(l||r)(b(I),b(O),b(T))},r.\u0275cmp=x({type:r,selectors:[["app-login-user"]],decls:17,vars:5,consts:[[1,"login-user"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error"]],template:function(l,e){if(l&1&&(n(0,"div",0)(1,"h2"),s(2,"Iniciar Sesi\xF3n"),o(),n(3,"form",1),C("ngSubmit",function(){return e.onSubmit()}),n(4,"div",2)(5,"label",3),s(6,"Email"),o(),f(7,"input",4),g(8,B,2,0,"div",5)(9,A,2,0,"div",5),o(),n(10,"div",2)(11,"label",6),s(12,"Contrase\xF1a"),o(),f(13,"input",7),g(14,H,2,0,"div",5),o(),n(15,"button",8),s(16,"Login"),o()()()),l&2){let u,p,c;a(3),m("formGroup",e.loginForm),a(5),m("ngIf",((u=e.loginForm.get("email"))==null||u.errors==null?null:u.errors.required)&&((u=e.loginForm.get("email"))==null?null:u.touched)),a(),m("ngIf",((p=e.loginForm.get("email"))==null||p.errors==null?null:p.errors.email)&&((p=e.loginForm.get("email"))==null?null:p.touched)),a(5),m("ngIf",((c=e.loginForm.get("password"))==null||c.errors==null?null:c.errors.required)&&((c=e.loginForm.get("password"))==null?null:c.touched)),a(),m("disabled",e.loginForm.invalid)}},dependencies:[F,E,y,S,U,w,M],styles:[".login-user[_ngcontent-%COMP%]{border:1px solid #ccc;padding:16px;border-radius:20px;max-width:400px;margin:auto;background-color:#f5ede7;font-family:Outfit}.login-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:24px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:14px;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;border:1px solid #ddd;border-radius:6px;background-color:#e0e0e0}.form-control[_ngcontent-%COMP%]:focus{border-color:#aaa;outline:none}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.btn[_ngcontent-%COMP%]{display:block;width:50%;margin:auto;padding:10px;background-color:#f60;border:none;color:#fff;border-radius:40px;font-size:16px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#e65c00}"]});let t=r;return t})();function J(t,r){t&1&&(n(0,"div",15),s(1," Campo obligatorio. "),o())}function K(t,r){t&1&&(n(0,"div",15),s(1," El nombre de usuario debe tener entre 4 y 20 car\xE1cteres. "),o())}function Q(t,r){t&1&&(n(0,"div",15),s(1," Campo obligatorio. "),o())}function W(t,r){t&1&&(n(0,"div",15),s(1," Campo obligatorio. "),o())}function X(t,r){t&1&&(n(0,"div",15),s(1," Formato invalido. "),o())}function Y(t,r){t&1&&(n(0,"div",15),s(1," Campo obligatorio. "),o())}function Z(t,r){t&1&&(n(0,"div",15),s(1," Campo obligatorio. "),o())}var ae=(()=>{let r=class r{constructor(i,l){this.fb=i,this.userService=l,this.isFormVisible=!1,this.userForm=this.fb.group({username:["",[d.required,d.minLength(4),d.maxLength(20)]],password:["",d.required],email:["",[d.required,d.email]],phone:["",d.required],birthday:["",d.required]})}toggleFormVisibility(){this.isFormVisible=!this.isFormVisible}onSubmit(){if(this.userForm.valid){let i=this.userForm.value;this.userService.createUser(i).subscribe({next:()=>{console.log("Registro completado"),this.isFormVisible=!1,window.location.reload()},error:l=>{console.error("Error al registrar usuario",l)}})}}};r.\u0275fac=function(l){return new(l||r)(b(I),b(O))},r.\u0275cmp=x({type:r,selectors:[["app-register-user"]],decls:34,vars:8,consts:[[1,"register-user"],[3,"ngSubmit","formGroup"],[1,"flex-container"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username","name","username","required","","minlength","4","maxlength","20","autocomplete","off",1,"form-control"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","off",1,"form-control"],["type","text","id","phone","formControlName","phone","autocomplete","off",1,"form-control"],["for","birthday"],["type","date","id","birthday","formControlName","birthday",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"error"]],template:function(l,e){if(l&1&&(n(0,"div",0)(1,"h2"),s(2,"Datos del Usuario"),o(),n(3,"form",1),C("ngSubmit",function(){return e.onSubmit()}),n(4,"div",2)(5,"div",3)(6,"label",4),s(7," Nombre de usuario"),o(),f(8,"input",5),g(9,J,2,0,"div",6)(10,K,2,0,"div",6),o(),n(11,"div",3)(12,"label",7),s(13," Contrase\xF1a"),o(),f(14,"input",8),g(15,Q,2,0,"div",6),o()(),n(16,"div",3)(17,"label",9),s(18," Email"),o(),f(19,"input",10),g(20,W,2,0,"div",6)(21,X,2,0,"div",6),o(),n(22,"div",3)(23,"label",4),s(24," Tel\xE9fono"),o(),f(25,"input",11),g(26,Y,2,0,"div",6),o(),n(27,"div",3)(28,"label",12),s(29," Cumplea\xF1os"),o(),f(30,"input",13),g(31,Z,2,0,"div",6),o(),n(32,"button",14),s(33,"Crear"),o()()()),l&2){let u,p,c,h,v,_;a(3),m("formGroup",e.userForm),a(6),m("ngIf",((u=e.userForm.get("username"))==null||u.errors==null?null:u.errors.required)&&((u=e.userForm.get("username"))==null?null:u.touched)),a(),m("ngIf",(e.userForm.controls.username==null||e.userForm.controls.username.errors==null?null:e.userForm.controls.username.errors.minlength)||(e.userForm.controls.username==null||e.userForm.controls.username.errors==null?null:e.userForm.controls.username.errors.maxlength)),a(5),m("ngIf",((p=e.userForm.get("password"))==null||p.errors==null?null:p.errors.required)&&((p=e.userForm.get("password"))==null?null:p.touched)),a(5),m("ngIf",((c=e.userForm.get("email"))==null||c.errors==null?null:c.errors.required)&&((c=e.userForm.get("email"))==null?null:c.touched)),a(),m("ngIf",((h=e.userForm.get("email"))==null||h.errors==null?null:h.errors.email)&&((h=e.userForm.get("email"))==null?null:h.touched)),a(5),m("ngIf",((v=e.userForm.get("phone"))==null||v.errors==null?null:v.errors.required)&&((v=e.userForm.get("phone"))==null?null:v.touched)),a(5),m("ngIf",((_=e.userForm.get("birthday"))==null||_.errors==null?null:_.errors.required)&&((_=e.userForm.get("birthday"))==null?null:_.touched))}},dependencies:[F,E,y,S,U,k,R,z,w,M],styles:[".register-user[_ngcontent-%COMP%]{border:1px solid #ccc;padding:16px;border-radius:20px;max-width:400px;margin:auto;background-color:#f5ede7;font-family:Outfit}.register-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:24px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:14px;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;border:1px solid #ddd;border-radius:6px;background-color:#e0e0e0}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.btn[_ngcontent-%COMP%]{display:block;width:50%;margin:auto;padding:10px;background-color:#f60;border:none;color:#fff;border-radius:40px;font-size:16px;cursor:pointer}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.flex-item[_ngcontent-%COMP%]{flex:1;margin-right:10px}.flex-item[_ngcontent-%COMP%]:last-child{margin-right:0}"]});let t=r;return t})();export{O as a,ne as b,ae as c};
