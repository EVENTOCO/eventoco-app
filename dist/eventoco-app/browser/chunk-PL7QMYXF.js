import{a as se,b as ce}from"./chunk-AU5753FG.js";import{a as O,b as x,c as P,d as V,e as ae,f as me,g as T,h as B,i as G,j as $,k as de,l as A,m as H,n as J,o as pe,p as ue}from"./chunk-SJAA7RXX.js";import{a as ne,b as oe,c as le,i as Q}from"./chunk-6W5Y4LR3.js";import{$a as U,Aa as v,Gb as S,Hb as re,Ib as ie,Oa as c,Qa as m,S as X,Sa as o,T as z,Ta as r,Ua as g,Va as j,Wa as b,X as Y,Xa as C,Ya as q,Za as s,_a as W,ab as F,ba as _,bb as I,ca as R,eb as ee,fb as te,ja as y,ka as E,qa as Z,za as a}from"./chunk-HJJGDG5F.js";var h=(()=>{let e=class e{constructor(n){this.http=n,this.baseUrl=se.baseUrl}getAllUsers(){return this.http.get(`${this.baseUrl}/users`)}getUserById(n){return this.http.get(`${this.baseUrl}/users/${n}`)}getUserByUsername(n){return this.http.get(`${this.baseUrl}/users/username/${n}`)}getUserByEmail(n){return this.http.get(`${this.baseUrl}/users/email/${n}`)}createUser(n){return this.http.post(`${this.baseUrl}/users`,n)}updateUser(n,l){return this.http.put(`${this.baseUrl}/users/${n}`,l)}deleteUser(n){return this.http.delete(`${this.baseUrl}/users/${n}`)}loginUser(n,l){let i=new ne().set("email",n).set("password",l);return this.http.get(`${this.baseUrl}/users/login`,{params:i})}};e.\u0275fac=function(l){return new(l||e)(Y(oe))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ye(t,e){t&1&&(o(0,"div",15),s(1," Campo obligatorio. "),r())}function Ee(t,e){t&1&&(o(0,"div",15),s(1," El nombre de usuario debe tener entre 4 y 20 car\xE1cteres. "),r())}function Se(t,e){t&1&&(o(0,"div",15),s(1," Campo obligatorio. "),r())}function Me(t,e){t&1&&(o(0,"div",15),s(1," Campo obligatorio. "),r())}function we(t,e){t&1&&(o(0,"div",15),s(1," Formato invalido. "),r())}function Ue(t,e){t&1&&(o(0,"div",15),s(1," Campo obligatorio. "),r())}function Fe(t,e){t&1&&(o(0,"div",15),s(1," Campo obligatorio. "),r())}var fe=(()=>{let e=class e{constructor(n,l){this.fb=n,this.userService=l,this.isFormVisible=!1,this.userForm=this.fb.group({username:["",[x.required,x.minLength(4),x.maxLength(20)]],password:["",x.required],email:["",[x.required,x.email]],phone:["",x.required],birthday:["",x.required]})}toggleFormVisibility(){this.isFormVisible=!this.isFormVisible}onSubmit(){if(this.userForm.valid){let n=this.userForm.value;this.userService.createUser(n).subscribe({next:()=>{console.log("Registro completado"),this.isFormVisible=!1},error:l=>{console.error("Error al registrar usuario",l)}})}}};e.\u0275fac=function(l){return new(l||e)(v(J),v(h))},e.\u0275cmp=_({type:e,selectors:[["app-register-user"]],decls:34,vars:8,consts:[[1,"register-user"],[3,"ngSubmit","formGroup"],[1,"flex-container"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username","name","username","required","","minlength","4","maxlength","20","autocomplete","off",1,"form-control"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","off",1,"form-control"],["type","text","id","phone","formControlName","phone","autocomplete","off",1,"form-control"],["for","birthday"],["type","date","id","birthday","formControlName","birthday",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"error"]],template:function(l,i){if(l&1&&(o(0,"div",0)(1,"h2"),s(2,"Datos del Usuario"),r(),o(3,"form",1),b("ngSubmit",function(){return i.onSubmit()}),o(4,"div",2)(5,"div",3)(6,"label",4),s(7," Nombre de usuario"),r(),g(8,"input",5),c(9,ye,2,0,"div",6)(10,Ee,2,0,"div",6),r(),o(11,"div",3)(12,"label",7),s(13," Contrase\xF1a"),r(),g(14,"input",8),c(15,Se,2,0,"div",6),r()(),o(16,"div",3)(17,"label",9),s(18," Email"),r(),g(19,"input",10),c(20,Me,2,0,"div",6)(21,we,2,0,"div",6),r(),o(22,"div",3)(23,"label",4),s(24," Tel\xE9fono"),r(),g(25,"input",11),c(26,Ue,2,0,"div",6),r(),o(27,"div",3)(28,"label",12),s(29," Cumplea\xF1os"),r(),g(30,"input",13),c(31,Fe,2,0,"div",6),r(),o(32,"button",14),s(33,"Crear"),r()()()),l&2){let d,f,u,D,N,L;a(3),m("formGroup",i.userForm),a(6),m("ngIf",((d=i.userForm.get("username"))==null||d.errors==null?null:d.errors.required)&&((d=i.userForm.get("username"))==null?null:d.touched)),a(),m("ngIf",(i.userForm.controls.username==null||i.userForm.controls.username.errors==null?null:i.userForm.controls.username.errors.minlength)||(i.userForm.controls.username==null||i.userForm.controls.username.errors==null?null:i.userForm.controls.username.errors.maxlength)),a(5),m("ngIf",((f=i.userForm.get("password"))==null||f.errors==null?null:f.errors.required)&&((f=i.userForm.get("password"))==null?null:f.touched)),a(5),m("ngIf",((u=i.userForm.get("email"))==null||u.errors==null?null:u.errors.required)&&((u=i.userForm.get("email"))==null?null:u.touched)),a(),m("ngIf",((D=i.userForm.get("email"))==null||D.errors==null?null:D.errors.email)&&((D=i.userForm.get("email"))==null?null:D.touched)),a(5),m("ngIf",((N=i.userForm.get("phone"))==null||N.errors==null?null:N.errors.required)&&((N=i.userForm.get("phone"))==null?null:N.touched)),a(5),m("ngIf",((L=i.userForm.get("birthday"))==null||L.errors==null?null:L.errors.required)&&((L=i.userForm.get("birthday"))==null?null:L.touched))}},dependencies:[S,T,O,P,V,$,A,H,B,G],styles:[".register-user[_ngcontent-%COMP%]{border:1px solid #ccc;padding:16px;border-radius:20px;max-width:400px;margin:auto;background-color:#f5ede7;font-family:Outfit}.register-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:24px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:14px;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;border:1px solid #ddd;border-radius:6px;background-color:#e0e0e0}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.btn[_ngcontent-%COMP%]{display:block;width:50%;margin:auto;padding:10px;background-color:#f60;border:none;color:#fff;border-radius:40px;font-size:16px;cursor:pointer}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.flex-item[_ngcontent-%COMP%]{flex:1;margin-right:10px}.flex-item[_ngcontent-%COMP%]:last-child{margin-right:0}"]});let t=e;return t})();function Oe(t,e){if(t&1&&(o(0,"div",1)(1,"h2"),s(2,"Datos del Usuario"),r(),o(3,"div",2)(4,"div",3)(5,"label",4),s(6,"ID"),r(),g(7,"input",5),r(),o(8,"div",3)(9,"label",6),s(10,"Nombre de Usuario"),r(),g(11,"input",7),r()(),o(12,"div",3)(13,"label",8),s(14,"Email"),r(),g(15,"input",9),r(),o(16,"div",2)(17,"div",3)(18,"label",10),s(19,"Tel\xE9fono"),r(),g(20,"input",11),r(),o(21,"div",3)(22,"label",12),s(23,"Cumplea\xF1os"),r(),g(24,"input",13),ee(25,"date"),r()()()),t&2){let p=C();a(7),m("value",p.user.id),a(4),m("value",p.user.username),a(4),m("value",p.user.email),a(5),m("value",p.user.phone),a(4),m("value",te(25,5,p.user.birthday,"mediumDate"))}}var be=(()=>{let e=class e{constructor(n){this.userService=n}ngOnInit(){this.loadUser()}loadUser(){let n=localStorage.getItem("userId");n&&this.userService.getUserById(+n).subscribe({next:l=>{this.user=l,console.log("Los datos del usuario han sido cargados correctamente:",this.user)},error:l=>{console.error("La sesi\xF3n ha sido cerrada",l)}})}};e.\u0275fac=function(l){return new(l||e)(v(h))},e.\u0275cmp=_({type:e,selectors:[["app-user-details"]],inputs:{user:"user"},decls:1,vars:1,consts:[["class","user-details",4,"ngIf"],[1,"user-details"],[1,"flex-container"],[1,"form-group"],["for","user-id"],["type","text","id","user-id","readonly","",1,"form-control",3,"value"],["for","username"],["type","text","id","username","readonly","",1,"form-control",3,"value"],["for","email"],["type","text","id","email","readonly","",1,"form-control",3,"value"],["for","phone"],["type","text","id","phone","readonly","",1,"form-control",3,"value"],["for","birthday"],["type","text","id","birthday","readonly","",1,"form-control",3,"value"]],template:function(l,i){l&1&&c(0,Oe,26,8,"div",0),l&2&&m("ngIf",i.user)},dependencies:[S,re],styles:[".user-details[_ngcontent-%COMP%]{border:1px solid #ccc;padding:16px;border-radius:20px;max-width:400px;margin:auto;background-color:#f5ede7;font-family:Outfit}.user-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:24px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:14px;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;border:1px solid #ddd;border-radius:6px;background-color:#c8c1c1}.form-control[_ngcontent-%COMP%]:focus{border-color:#aaa;outline:none}.form-control[readonly][_ngcontent-%COMP%]{background-color:#ddd4d4}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.flex-item[_ngcontent-%COMP%]{flex:1;margin-right:10px}.flex-item[_ngcontent-%COMP%]:last-child{margin-right:0}"]});let t=e;return t})();function Ve(t,e){t&1&&(o(0,"div"),s(1," Campo obligatorio. "),r())}function Te(t,e){t&1&&(o(0,"div"),s(1," El nombre de usuario debe tener entre 4 y 20 car\xE1cteres. "),r())}function ke(t,e){if(t&1&&(o(0,"div",17),c(1,Ve,2,0,"div",18)(2,Te,2,0,"div",18),r()),t&2){C();let p=q(4);a(),m("ngIf",p.controls.username==null||p.controls.username.errors==null?null:p.controls.username.errors.required),a(),m("ngIf",(p.controls.username==null||p.controls.username.errors==null?null:p.controls.username.errors.minlength)||(p.controls.username==null||p.controls.username.errors==null?null:p.controls.username.errors.maxlength))}}function De(t,e){t&1&&(o(0,"div",17),s(1," Campo obligatorio. "),r())}function Ne(t,e){t&1&&(o(0,"div"),s(1," Campo obligatorio. "),r())}function Le(t,e){t&1&&(o(0,"div"),s(1," El email debe ser v\xE1lido. "),r())}function qe(t,e){if(t&1&&(o(0,"div",17),c(1,Ne,2,0,"div",18)(2,Le,2,0,"div",18),r()),t&2){C();let p=q(4);a(),m("ngIf",p.controls.email==null||p.controls.email.errors==null?null:p.controls.email.errors.required),a(),m("ngIf",p.controls.email==null||p.controls.email.errors==null?null:p.controls.email.errors.email)}}function ze(t,e){t&1&&(o(0,"div",17),s(1," Campo obligatorio. "),r())}function Re(t,e){t&1&&(o(0,"div",17),s(1," Campo obligatorio. "),r())}var _e=(()=>{let e=class e{constructor(n){this.userService=n}ngOnInit(){}onSubmit(n){if(n.valid){let l={username:n.value.username,password:n.value.password,email:n.value.email,phone:n.value.phone,birthday:n.value.birthday};this.userService.updateUser(this.user.id,l).subscribe({next:()=>{console.log("Datos actualizados correctamente."),window.location.reload()},error:i=>{console.error("Error al editar datos del usuario",i)}})}}};e.\u0275fac=function(l){return new(l||e)(v(h))},e.\u0275cmp=_({type:e,selectors:[["app-edit-user"]],inputs:{user:"user"},decls:33,vars:10,consts:[["userForm","ngForm"],[1,"edit-user"],[3,"ngSubmit"],[1,"flex-container"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","minlength","4","maxlength","20","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","","email","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","phone"],["type","text","id","phone","name","phone","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","birthday"],["type","date","id","birthday","name","birthday","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],[1,"error"],[4,"ngIf"]],template:function(l,i){if(l&1){let d=j();o(0,"div",1)(1,"h2"),s(2,"Editar Usuario"),r(),o(3,"form",2,0),b("ngSubmit",function(){y(d);let u=q(4);return E(i.onSubmit(u))}),o(5,"div",3)(6,"div",4)(7,"label",5),s(8,"Nombre de Usuario"),r(),o(9,"input",6),I("ngModelChange",function(u){return y(d),F(i.user.username,u)||(i.user.username=u),E(u)}),r(),c(10,ke,3,2,"div",7),r(),o(11,"div",4)(12,"label",8),s(13,"Contrase\xF1a"),r(),o(14,"input",9),I("ngModelChange",function(u){return y(d),F(i.user.password,u)||(i.user.password=u),E(u)}),r(),c(15,De,2,0,"div",7),r()(),o(16,"div",4)(17,"label",10),s(18,"Email"),r(),o(19,"input",11),I("ngModelChange",function(u){return y(d),F(i.user.email,u)||(i.user.email=u),E(u)}),r(),c(20,qe,3,2,"div",7),r(),o(21,"div",4)(22,"label",12),s(23,"Telefono"),r(),o(24,"input",13),I("ngModelChange",function(u){return y(d),F(i.user.phone,u)||(i.user.phone=u),E(u)}),r(),c(25,ze,2,0,"div",7),r(),o(26,"div",4)(27,"label",14),s(28,"Cumplea\xF1os"),r(),o(29,"input",15),I("ngModelChange",function(u){return y(d),F(i.user.birthday,u)||(i.user.birthday=u),E(u)}),r(),c(30,Re,2,0,"div",7),r(),o(31,"button",16),s(32,"Guardar"),r()()()}if(l&2){let d=q(4);a(9),U("ngModel",i.user.username),a(),m("ngIf",d.submitted&&(d.controls.username==null?null:d.controls.username.invalid)),a(4),U("ngModel",i.user.password),a(),m("ngIf",d.submitted&&(d.controls.password==null?null:d.controls.password.invalid)),a(4),U("ngModel",i.user.email),a(),m("ngIf",d.submitted&&(d.controls.email==null?null:d.controls.email.invalid)),a(4),U("ngModel",i.user.phone),a(),m("ngIf",d.submitted&&(d.controls.phone==null?null:d.controls.phone.invalid)),a(4),U("ngModel",i.user.birthday),a(),m("ngIf",d.submitted&&(d.controls.birthday==null?null:d.controls.birthday.invalid))}},dependencies:[S,T,O,P,V,$,A,H,de,me,ae],styles:[".edit-user[_ngcontent-%COMP%]{border:1px solid #ccc;padding:16px;border-radius:20px;max-width:400px;margin:auto;background-color:#f5ede7;font-family:Outfit}.edit-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:24px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:14px;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;border:1px solid #ddd;border-radius:6px;background-color:#e0e0e0}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.btn[_ngcontent-%COMP%]{display:block;width:50%;margin:auto;padding:10px;background-color:#f60;border:none;color:#fff;border-radius:40px;font-size:16px;cursor:pointer}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.flex-item[_ngcontent-%COMP%]{flex:1;margin-right:10px}.flex-item[_ngcontent-%COMP%]:last-child{margin-right:0}"]});let t=e;return t})();var ve=(()=>{let e=class e{constructor(n){this.userService=n,this.userDeleted=new Z}confirmDelete(){confirm(`\xBFSeguro de que quieres borrar el usuario ${this.user.username}?`)&&this.userService.deleteUser(this.user.id).subscribe({next:()=>{this.userDeleted.emit(this.user.id),window.location.reload()},error:l=>{console.error("Error al borrar usuario",l)}})}};e.\u0275fac=function(l){return new(l||e)(v(h))},e.\u0275cmp=_({type:e,selectors:[["app-delete-user"]],inputs:{user:"user"},outputs:{userDeleted:"userDeleted"},decls:2,vars:0,consts:[[1,"btn","btn-danger",3,"click"]],template:function(l,i){l&1&&(o(0,"button",0),b("click",function(){return i.confirmDelete()}),s(1,"Eliminar Usuario"),r())},styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#993d00;color:#fff;padding:10px 20px;font-size:16px;text-decoration:none;border:none;border-radius:20px;margin-left:10px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#fff;color:#993d00;padding:8px 18px;border:2px solid #993d00}"]});let t=e;return t})();function Be(t,e){t&1&&(o(0,"div",9),s(1," Campo obligatorio. "),r())}function Ge(t,e){t&1&&(o(0,"div",9),s(1," Formato invalido. "),r())}function $e(t,e){t&1&&(o(0,"div",9),s(1," Campo obligatorio. "),r())}var xe=(()=>{let e=class e{constructor(n,l){this.fb=n,this.userService=l,this.isFormVisible=!1,this.loginForm=this.fb.group({email:["",[x.required,x.email]],password:["",x.required]})}toggleFormVisibility(){this.isFormVisible=!this.isFormVisible}onSubmit(){if(this.loginForm.valid){let{email:n,password:l}=this.loginForm.value;this.userService.loginUser(n,l).subscribe({next:i=>{console.log("Sesi\xF3n iniciada correctamente.",i),localStorage.setItem("userId",i.id.toString()),window.location.reload()},error:i=>{console.error("Los datos son incorrectos o el usuario no existe",i)}})}}};e.\u0275fac=function(l){return new(l||e)(v(J),v(h))},e.\u0275cmp=_({type:e,selectors:[["app-login-user"]],decls:17,vars:5,consts:[[1,"login-user"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error"]],template:function(l,i){if(l&1&&(o(0,"div",0)(1,"h2"),s(2,"Iniciar Sesi\xF3n"),r(),o(3,"form",1),b("ngSubmit",function(){return i.onSubmit()}),o(4,"div",2)(5,"label",3),s(6,"Email"),r(),g(7,"input",4),c(8,Be,2,0,"div",5)(9,Ge,2,0,"div",5),r(),o(10,"div",2)(11,"label",6),s(12,"Contrase\xF1a"),r(),g(13,"input",7),c(14,$e,2,0,"div",5),r(),o(15,"button",8),s(16,"Login"),r()()()),l&2){let d,f,u;a(3),m("formGroup",i.loginForm),a(5),m("ngIf",((d=i.loginForm.get("email"))==null||d.errors==null?null:d.errors.required)&&((d=i.loginForm.get("email"))==null?null:d.touched)),a(),m("ngIf",((f=i.loginForm.get("email"))==null||f.errors==null?null:f.errors.email)&&((f=i.loginForm.get("email"))==null?null:f.touched)),a(5),m("ngIf",((u=i.loginForm.get("password"))==null||u.errors==null?null:u.errors.required)&&((u=i.loginForm.get("password"))==null?null:u.touched)),a(),m("disabled",i.loginForm.invalid)}},dependencies:[S,T,O,P,V,B,G],styles:[".login-user[_ngcontent-%COMP%]{border:1px solid #ccc;padding:16px;border-radius:20px;max-width:400px;margin:auto;background-color:#f5ede7;font-family:Outfit}.login-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:24px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:14px;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;border:1px solid #ddd;border-radius:6px;background-color:#e0e0e0}.form-control[_ngcontent-%COMP%]:focus{border-color:#aaa;outline:none}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.btn[_ngcontent-%COMP%]{display:block;width:50%;margin:auto;padding:10px;background-color:#f60;border:none;color:#fff;border-radius:40px;font-size:16px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#e65c00}"]});let t=e;return t})();var he=(()=>{let e=class e{constructor(){}logout(){confirm(`\xBFSeguro de que quieres cerrar la sesi\xF3n de ${this.user.username}?`)&&(localStorage.removeItem("userId"),window.location.reload())}};e.\u0275fac=function(l){return new(l||e)},e.\u0275cmp=_({type:e,selectors:[["app-logout-user"]],inputs:{user:"user"},decls:3,vars:0,consts:[[1,"text-right"],[1,"btn","btn-primary",3,"click"]],template:function(l,i){l&1&&(o(0,"div",0)(1,"button",1),b("click",function(){return i.logout()}),s(2," Cerrar Sesi\xF3n"),r()())},styles:[".btn-primary[_ngcontent-%COMP%]{color:#d35400;background-color:transparent;padding:8px 18px;font-size:16px;text-decoration:none;border:2px solid #d56520;border-radius:20px;margin-left:10px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#ebc7cb;color:#d35400}"]});let t=e;return t})();function Je(t,e){t&1&&g(0,"app-login-user")}function Ke(t,e){t&1&&g(0,"app-register-user")}function Qe(t,e){if(t&1){let p=j();o(0,"div")(1,"button",5),b("click",function(){y(p);let l=C();return E(l.toggleLoginForm())}),s(2),r(),c(3,Je,1,0,"app-login-user",0),o(4,"button",6),b("click",function(){y(p);let l=C();return E(l.toggleRegisterForm())}),s(5),r(),c(6,Ke,1,0,"app-register-user",0),r()}if(t&2){let p=C();a(2),W(" ",p.isLoginVisible?"Calcelar inicio de sesi\xF3n":"Iniciar Sesi\xF3n"," "),a(),m("ngIf",p.isLoginVisible),a(2),W(" ",p.isRegisterVisible?"Calcelar registro":"Registrarse"," "),a(),m("ngIf",p.isRegisterVisible)}}function Xe(t,e){if(t&1&&(o(0,"div"),g(1,"app-logout-user",1),r()),t&2){let p=C();a(),m("user",p.user)}}function Ye(t,e){if(t&1&&g(0,"app-edit-user",1),t&2){let p=C();m("user",p.user)}}var w=(()=>{let e=class e{constructor(n){this.userService=n,this.isEditVisible=!1,this.isRegisterVisible=!1,this.isLoginVisible=!1}ngOnInit(){let n=localStorage.getItem("userId");n&&this.userService.getUserById(+n).subscribe(l=>{this.user=l})}toggleEditForm(){this.isEditVisible=!this.isEditVisible}toggleRegisterForm(){this.isRegisterVisible=!this.isRegisterVisible}toggleLoginForm(){this.isLoginVisible=!this.isLoginVisible}isLoggedIn(){return!!localStorage.getItem("userId")}onUserDeleted(n){this.user=null,this.userService.deleteUser(n).subscribe(()=>{console.log(`User with ID ${n} has been deleted.`),localStorage.removeItem("userId")})}};e.\u0275fac=function(l){return new(l||e)(v(h))},e.\u0275cmp=_({type:e,selectors:[["app-user"]],decls:11,vars:6,consts:[[4,"ngIf"],[3,"user"],[1,"btn","btn-edit",3,"click"],[3,"user",4,"ngIf"],[3,"userDeleted","user"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(l,i){l&1&&(o(0,"div"),c(1,Qe,7,4,"div",0)(2,Xe,2,1,"div",0),g(3,"p"),r(),o(4,"div"),g(5,"app-user-details",1),r(),o(6,"div")(7,"button",2),b("click",function(){return i.toggleEditForm()}),s(8),r(),c(9,Ye,1,1,"app-edit-user",3),o(10,"app-delete-user",4),b("userDeleted",function(f){return i.onUserDeleted(f)}),r()()),l&2&&(a(),m("ngIf",!i.isLoggedIn()),a(),m("ngIf",i.isLoggedIn()),a(3),m("user",i.user),a(3),W(" ",i.isEditVisible?"Calcelar edici\xF3n":"Editar"," "),a(),m("ngIf",i.isEditVisible),a(),m("user",i.user))},dependencies:[S,fe,be,_e,ve,xe,he],styles:[".button-container[_ngcontent-%COMP%]{margin-top:20px}.button-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:10px}.user-details-container[_ngcontent-%COMP%], .user-action-container[_ngcontent-%COMP%]{margin-top:20px}.btn-primary[_ngcontent-%COMP%]{color:#d35400;background-color:transparent;padding:8px 18px;font-size:16px;text-decoration:none;border:2px solid #d56520;border-radius:20px;margin-left:10px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#ebc7cb;color:#d35400}.btn-danger[_ngcontent-%COMP%]{background-color:#d35400;color:#fff;padding:10px 20px;font-size:16px;text-decoration:none;border:none;border-radius:20px;margin-left:10px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#fff;color:#d35400;padding:8px 18px;border:2px solid #d56520}.btn-edit[_ngcontent-%COMP%]{background-color:#df7a37;color:#fff;padding:10px 20px;font-size:16px;text-decoration:none;border:none;border-radius:20px;margin-left:10px;cursor:pointer}.btn-edit[_ngcontent-%COMP%]:hover{background-color:#fff;color:#df7a37;padding:8px 18px;border:2px solid #df7a37}"]});let t=e;return t})();var Ze=[{path:"",component:w},{path:"details",component:w},{path:"register",component:w},{path:"edit",component:w},{path:"login",component:w},{path:"delete",component:w}],Ce=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=R({type:e}),e.\u0275inj=z({imports:[Q.forChild(Ze),Q]});let t=e;return t})();var Vt=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=R({type:e}),e.\u0275inj=z({imports:[ie,Ce,pe,ce,ue,le]});let t=e;return t})();export{Vt as a};
